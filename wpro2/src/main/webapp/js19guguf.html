<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>구구단 출력</title>
<script type="text/javascript">
window.onload = () => {		// 페이지가 로드된 후 실행되는 함수 설정
	document.getElementById("btnClean").onclick = cleanFunc();
	document.getElementById("sel").onchange = function() {	// id가 'sel'인 요소의 값이 변경될 때 실행될 함수 설정
		let dan = mul = "";		// 변수 dan과 mul을 빈 문자열로 초기화
		const sel = frm.sel.options[frm.sel.selectedIndex].value;	// "sel"에서 선택된 값(value)을 가져와서 'sel' 변수에 저장
		
		let table = document.createElement('table');	// 테이블 생성
		
		if(sel === '2') {
			dan = 2;
			
			// ?단 ===
			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;
			
			// 구구단 출력
			for(let num = 1; num <= 9; num++){
				// 구구단 결과를 테이블 형식으로 출력하기 위해 행('tr')과 열('td')을 생성
				let row = document.createElement('tr');	// 행 추가
				let col = document.createElement('td');	// 열 추가
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);	// 위에서 생성한 TextNode를 열에 추가. 테이블의 한 셀 안에 구구단의 한 항목을 넣는 작업이 이루어진다.
				row.appendChild(col);	// 해당 열을 행에 추가. 한 줄의 구구단을 표시하는데 필요한 모든 셀을 행에 넣는 작업이다.
				table.appendChild(row);	// 해당 행을 테이블에 추가. 한 줄의 구구단을 표시하는데 필요한 모든 열을 테이블에 넣는 작업이다.
				// 구구단의 결과를 텍스트로 만들어 열에 추가하고, 이 열을 행에 추가하고, 행을 테이블에 추가한다.
				// 이렇게 하면 각 숫자에 대한 구구단 결과가 표에 추가된다.	
			}
		}else if(sel === '3') {
			dan = 3;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '4') {
			dan = 4;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '5') {
			dan = 5;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '6') {
			dan = 6;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '7') {
			dan = 7;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '8') {
			dan = 8;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}else if(sel === '9') {
			dan = 9;

			let headerRow = document.createElement('tr');
			table.appendChild(headerRow);
			headerRow.textContent = `${dan}단 ===`;

			for(let num = 1; num <= 9; num++){
				let row = document.createElement('tr');
				let col = document.createElement('td');
				
				mul = dan*num;
				
				let text = document.createTextNode(`${dan} * ${num} = ${mul}`);
				
				col.appendChild(text);
				row.appendChild(col);
				table.appendChild(row);
			}
		}
		document.getElementById("show").appendChild(table);	// id가 "show"인 곳을 찾아 테이블 출력
	}
	
	let tag = document.createElement('h2');
	let text = document.createTextNode('결과는');
	tag.appendChild(text);
	document.getElementById("header").appendChild(tag);
}
function cleanFunc(){
	document.getElementById("show").innerHTML = "";
    document.getElementById("sel").selectedIndex = 0;	// select 요소를 기본값으로 변경
}
</script>
</head>
<body>
<h3>** 구구단 출력 **</h3>
<form action="#" name="frm">
	단 : <select name="sel" id="sel">
		<option value="">선택</option>
		<option value="2">2단</option>
		<option value="3">3단</option>
		<option value="4">4단</option>
		<option value="5">5단</option>
		<option value="6">6단</option>
		<option value="7">7단</option>
		<option value="8">8단</option>
		<option value="9">9단</option>
	</select>
	<button id = btnClean>삭제</button>
</form>
<br>
<span id="header"></span>
<div id="show"></div>
</body>
</html>