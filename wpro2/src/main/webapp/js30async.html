<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h2>Promise객체를 내부적으로 처리하는 async~await라는 키워드</h2>
일반적인 형태의 소스코드를 작성하면서 비동기처리를 할 수 있다.
<br>
<script type="text/javascript">
const myPromise = (seconds) => new Promise((resolve, reject)=> {
	setTimeout(() => {
		let a =2;
		if(a%2===0){
			resolve('이 값이 then메소드의 매개변수로전달됨')
		}else{
			reject('에러처리: reject이 실행되면 catch로 받을수있다');
		}
		resolve('이 값이 then메소드의 매개변수로전달됨');
	}, seconds);
});
/*형식: 
	async function 함수명(){
	try{
		await 비동기처리메소드();
	}catch(e){
		
	}finally{
		}
	}
 * 
 */
async function gogo(){
	try{ //성공시
		const result1 = await myPromise(2000); //then메소드 대신 적음
		console.log(result1);
		
		const result2 = await myPromise(2000);
		console.log(result2);
		
		const result3 = await myPromise(2000);
		console.log(result3);
	}catch(e){ //실패시
		console.log('err: ',e);
	}finally{
		console.log('에러와 상관없이 항상 수행');
	}
}

gogo();
</script>
</body>
</html>